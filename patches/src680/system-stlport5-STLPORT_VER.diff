diff -ur solenv.orig/inc/unxbsdi2.mk solenv/inc/unxbsdi2.mk
--- solenv.orig/inc/unxbsdi2.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxbsdi2.mk	2006-03-27 20:58:54.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+= -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+= -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # this is a platform with JAVA support
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxbsdi.mk solenv/inc/unxbsdi.mk
--- solenv.orig/inc/unxbsdi.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxbsdi.mk	2006-03-27 20:58:54.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=-DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=-DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # this is a platform with JAVA support
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxbsds.mk solenv/inc/unxbsds.mk
--- solenv.orig/inc/unxbsds.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxbsds.mk	2006-03-27 20:58:55.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=-D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400 -DOSL_USE_SYS_V_SEMAPHORE
+CDEFS+=-D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER) -DOSL_USE_SYS_V_SEMAPHORE
 
 # this is a platform with JAVA support
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxlngi4.mk solenv/inc/unxlngi4.mk
--- solenv.orig/inc/unxlngi4.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngi4.mk	2006-03-27 20:58:53.000000000 +0200
@@ -44,7 +44,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # enable visibility define in "sal/types.h"
 .IF "$(HAVE_GCC_VISIBILITY_FEATURE)" == "TRUE"
diff -ur solenv.orig/inc/unxlngi5.mk solenv/inc/unxlngi5.mk
--- solenv.orig/inc/unxlngi5.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngi5.mk	2006-03-27 20:58:54.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # enable visibility define in "sal/types.h"
 .IF "$(HAVE_GCC_VISIBILITY_FEATURE)" == "TRUE"
diff -ur solenv.orig/inc/unxlngi6.mk solenv/inc/unxlngi6.mk
--- solenv.orig/inc/unxlngi6.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngi6.mk	2006-03-27 20:58:53.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # enable visibility define in "sal/types.h"
 .IF "$(HAVE_GCC_VISIBILITY_FEATURE)" == "TRUE"
diff -ur solenv.orig/inc/unxlngppc4.mk solenv/inc/unxlngppc4.mk
--- solenv.orig/inc/unxlngppc4.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngppc4.mk	2006-03-27 20:58:54.000000000 +0200
@@ -44,7 +44,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400 -DPOWERPC -DPPC
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER) -DPOWERPC -DPPC
 
 # enable visibility define in "sal/types.h"
 .IF "$(HAVE_GCC_VISIBILITY_FEATURE)" == "TRUE"
diff -ur solenv.orig/inc/unxlngppc.mk solenv/inc/unxlngppc.mk
--- solenv.orig/inc/unxlngppc.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngppc.mk	2006-03-27 20:58:54.000000000 +0200
@@ -46,7 +46,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl 
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400 -DPOWERPC -DPPC 
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER) -DPOWERPC -DPPC 
 
 # enable visibility define in "sal/types.h"
 .IF "$(HAVE_GCC_VISIBILITY_FEATURE)" == "TRUE"
diff -ur solenv.orig/inc/unxlngr.mk solenv/inc/unxlngr.mk
--- solenv.orig/inc/unxlngr.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngr.mk	2006-03-27 20:58:53.000000000 +0200
@@ -46,7 +46,7 @@
 LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DARM32 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DARM32 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # this is a platform with JAVA support
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxlngs3904.mk solenv/inc/unxlngs3904.mk
--- solenv.orig/inc/unxlngs3904.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngs3904.mk	2006-03-27 20:58:54.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # this is a platform with JAVA support
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxlngs.mk solenv/inc/unxlngs.mk
--- solenv.orig/inc/unxlngs.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngs.mk	2006-03-27 20:58:54.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DSPARC -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -D_PTHREADS -D_REENTRANT -DSPARC -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # enable visibility define in "sal/types.h"
 .IF "$(HAVE_GCC_VISIBILITY_FEATURE)" == "TRUE"
diff -ur solenv.orig/inc/unxlngx6.mk solenv/inc/unxlngx6.mk
--- solenv.orig/inc/unxlngx6.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxlngx6.mk	2006-03-27 20:58:54.000000000 +0200
@@ -45,7 +45,7 @@
 #LINKOUTPUT_FILTER=" |& $(SOLARENV)$/bin$/msg_filter"
 
 # _PTHREADS is needed for the stl
-CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86_64 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=400
+CDEFS+=$(PTHREAD_CFLAGS) -DGLIBC=2 -DX86_64 -D_PTHREADS -D_REENTRANT -DNEW_SOLAR -D_USE_NAMESPACE=1 -DSTLPORT_VERSION=$(STLPORT_VER)
 
 # enable visibility define in "sal/types.h"
 .IF "$(HAVE_GCC_VISIBILITY_FEATURE)" == "TRUE"
diff -ur solenv.orig/inc/unxmacx.mk solenv/inc/unxmacx.mk
--- solenv.orig/inc/unxmacx.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxmacx.mk	2006-03-27 20:58:54.000000000 +0200
@@ -51,7 +51,7 @@
 # Definitions that we may need on the compile line.
 # -D_PTHREADS and -D_REENTRANT are needed for STLport, and must be specified when
 #  compiling STLport sources too, either internally or externally.
-CDEFS+=-DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNO_PTHREAD_PRIORITY $(PROCESSOR_DEFINES) -DSTLPORT_VERSION=400 -D_USE_NAMESPACE=1
+CDEFS+=-DGLIBC=2 -D_PTHREADS -D_REENTRANT -DNO_PTHREAD_PRIORITY $(PROCESSOR_DEFINES) -DSTLPORT_VERSION=$(STLPORT_VER) -D_USE_NAMESPACE=1
 .IF "$(GUIBASE)"=="unx"
 CDEFS+= -DX_LOCALE
 .ENDIF
diff -ur solenv.orig/inc/unxsogi.mk solenv/inc/unxsogi.mk
--- solenv.orig/inc/unxsogi.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxsogi.mk	2006-03-27 20:58:54.000000000 +0200
@@ -41,7 +41,7 @@
 JAVAFLAGSDEBUG=-g
 
 # _PTHREADS is needed for the stl
-CDEFS+=-D_PTHREADS -D_REENTRANT -DSYSV -DSUN -DSUN4 -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=400 -D_USE_NAMESPACE=1 
+CDEFS+=-D_PTHREADS -D_REENTRANT -DSYSV -DSUN -DSUN4 -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=$(STLPORT_VER) -D_USE_NAMESPACE=1 
 
 
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxsogs.mk solenv/inc/unxsogs.mk
--- solenv.orig/inc/unxsogs.mk	2006-03-27 19:38:51.000000000 +0200
+++ solenv/inc/unxsogs.mk	2006-03-27 20:58:54.000000000 +0200
@@ -41,7 +41,7 @@
 JAVAFLAGSDEBUG=-g
 
 # _PTHREADS is needed for the stl
-CDEFS+=-D_PTHREADS -D_REENTRANT -DSYSV -DSUN -DSUN4 -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=400 -D_USE_NAMESPACE=1 
+CDEFS+=-D_PTHREADS -D_REENTRANT -DSYSV -DSUN -DSUN4 -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=$(STLPORT_VER) -D_USE_NAMESPACE=1 
 
 
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxsoli3.mk solenv/inc/unxsoli3.mk
--- solenv.orig/inc/unxsoli3.mk	2005-09-08 12:01:22.000000000 +0200
+++ solenv/inc/unxsoli3.mk	2006-03-27 20:58:53.000000000 +0200
@@ -38,7 +38,7 @@
 AFLAGS=-P -q
 
 
-CDEFS+=-D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=400
+CDEFS+=-D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=$(STLPORT_VER)
 
 SOLAR_JAVA*=TRUE
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxsoli4.mk solenv/inc/unxsoli4.mk
--- solenv.orig/inc/unxsoli4.mk	2006-01-13 17:18:58.000000000 +0100
+++ solenv/inc/unxsoli4.mk	2006-03-27 20:58:54.000000000 +0200
@@ -38,7 +38,7 @@
 AFLAGS=-P
 
 
-CDEFS+=-mt -D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=400
+CDEFS+=-mt -D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=$(STLPORT_VER)
 
 SOLAR_JAVA*=TRUE
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxsols3.mk solenv/inc/unxsols3.mk
--- solenv.orig/inc/unxsols3.mk	2005-09-08 12:02:19.000000000 +0200
+++ solenv/inc/unxsols3.mk	2006-03-27 20:58:54.000000000 +0200
@@ -38,7 +38,7 @@
 AFLAGS=-P -q
 
 
-CDEFS+=-D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=400
+CDEFS+=-D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=$(STLPORT_VER)
 
 SOLAR_JAVA*=TRUE
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/unxsols4.mk solenv/inc/unxsols4.mk
--- solenv.orig/inc/unxsols4.mk	2006-01-13 17:19:24.000000000 +0100
+++ solenv/inc/unxsols4.mk	2006-03-27 20:58:54.000000000 +0200
@@ -39,7 +39,7 @@
 AFLAGS=-P -xarch=v8plus -D__sparcv8plus
 
 
-CDEFS+=-D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=400
+CDEFS+=-D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=$(STLPORT_VER)
 
 SOLAR_JAVA*=TRUE
 .IF "$(SOLAR_JAVA)"!=""
diff -ur solenv.orig/inc/wntmsci10.mk solenv/inc/wntmsci10.mk
--- solenv.orig/inc/wntmsci10.mk	2006-01-20 13:09:46.000000000 +0100
+++ solenv/inc/wntmsci10.mk	2006-03-27 20:58:54.000000000 +0200
@@ -164,7 +164,7 @@
 # Flags for COMEX == 10
 CFLAGSWALL=-Wall -wd4294 -wd4640
 CFLAGSDFLTWARN=-W3
-CDEFS+=-DSTLPORT_VERSION=400 -DWINVER=0x400 -D_WIN32_IE=0x400
+CDEFS+=-DSTLPORT_VERSION=$(STLPORT_VER) -DWINVER=0x400 -D_WIN32_IE=0x400
 CDEFS+=-D_MT
 
 COMMENTFLAG=/COMMENT:"$(PRJNAME)_$(UPD)_$(VCSID)_"
